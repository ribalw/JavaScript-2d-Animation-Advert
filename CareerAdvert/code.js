"use strict";
/**JavaScript file to initilialize all elements */
function init() {
  //Background initliazation
  background1 = new backgroundSprite("./images/bg1.jpg", [0, 0], ctx.canvas.width, ctx.canvas.height);
  background2 = new backgroundSprite("./images/bg2.png", [0, 0], ctx.canvas.width, ctx.canvas.height);
  background3 = new backgroundSprite("./images/bg2.png", [0, 0], ctx.canvas.width, ctx.canvas.height);

  //Sprites initliazation
  boyRun = new Boy("./images/boy/RUN.png", 15, 229, 210, 1, 15, 15, ctx.canvas.width / 5, ctx.canvas.height / 2.8);
  boyIdle = new Boy("./images/boy/IDLE.png", 15, 229, 210, 1, 15, 20, ctx.canvas.width / 5, ctx.canvas.height / 2.8);
  boyWalk = new Boy("./images/boy/WALK.png", 15, 229, 210, 1, 15, 20, ctx.canvas.width / 5, ctx.canvas.height / 2.8);
  boyJump = new Boy("./images/boy/JUMP.png", 15, 229, 210, 1, 15, 20, ctx.canvas.width / 5, ctx.canvas.height / 2.8);
  boyDead = new Boy("./images/boy/DEAD.png", 15, 229, 210, 1, 15, 20, ctx.canvas.width / 5, ctx.canvas.height / 2.8);
  boyIdle.speed = 10;
  boyIdle.animDelay = 3;
  boyWalk.speed = 8;
  boyWalk.animDelay = 5
  boyRun.speed = 10;
  boyRun.animDelay = 5
  boyJump.speed = 10;
  boyJump.animDelay = 5
  boyDead.speed = 10;
  boyDead.animDelay = 5

  //Cloud initliazation
  cloud = new Cloud(700, 175, 1, 1);

  //Obastacles initliazation
  obstacle1 = new Obstacle("./images/accomodation.png", ctx.canvas.width - 400, ctx.canvas.height / 2.5, 1,);
  obstacle2 = new Obstacle("./images/books.png", ctx.canvas.width - 400, ctx.canvas.height / 2.5, 1, 0, 0);
  obstacle3 = new Obstacle("./images/degree.png", ctx.canvas.width - 400, ctx.canvas.height / 2.5, 1);
  obstacle4 = new Obstacle("./images/job.png", ctx.canvas.width - 400, ctx.canvas.height / 2.5, 1);

  //Moon initliazation for tweening
  moon = new Shape([
    [174.4314938317861, 186.0385071155388], [165.7955299924301, 174.023253078174], [161.3671931717567, 160.8815689748062],
    [159.1012941212307, 144.9847947023542], [157.5149605623475, 130.4434037459251], [157.779349488828, 116.4307906424571],
    [159.3656830477112, , 104.2689000243527], [162.5383501654775, 95.2796765240148], [167.5617397686076, 85.4972862442352],
    [174.4358518571013, 75.7148959644557], [181.0455750191145, 67.7832281700398], [188.1840760340887, 61.1735050080266],
    [194.0006324166604, 56.1501154048965], [200.4339771430514, 51.1013156568308], [189.6648379274362, 52.1782295783923],
    [178.895698711821, 54.3320574215154], [168.1265594962058, 57.5627991861999], [158.4343342021521, 61.870454872446],
    [148.7421089080984, 68.3319384018152], [140.2044438694374, 74.7437507452638], [130.7455646388676, 83.6771366852465],
    [124.551187548932, 93.6045694168064], [118.9936456097648, 104.7196532951407], [115.8179073588122, 115.8347371734751],
    [113.2039494965682, 127.562204087699], [112.1270355750066, 138.3313433033142], [111.0501216534451, 149.1004825189295],
    [111.0501216534451, 159.8696217345447], [111.8971884810208, 170.5598366550177], [112.8964581077936, 180.5525329227459],
    [114.6951434359847, 190.545229190474], [117.6929523163031, 201.3373411596204], [122.8961747906219, 213.7153178126209],
    [129.357658319991, 222.3306291851131], [137.9729696924832, 229.8690266360438], [146.5882810649753, 237.4074240869745],
    [156.280506359029, 243.8689076163436], [164.8958177315212, 250.3303911457128], [(175.6649569471364, 253.5611329103973)],
    [186.4340961627516, 256.7918746750819], [197.2032353783668, 257.8687885966434], [209.0492885155436, 257.8687885966434],
    [219.8184277311588, 256.7918746750819], [230.587566946774, 254.6380468319589], [241.3567061623892, 250.3303911457128],
    [251.0489314564429, 243.8689076163436], [259.6642428289351, 237.4074240869745], [268.2795542014272, 229.8690266360438],
    [275.9157489995547, 219.2856584599544], [258.434613273695, 222.4640467737471], [242.1759570857164, 222.8943926623105],
    [225.9285356007869, 220.8642011129515], [209.3093869222636, 215.7506169041751], [192.7394674911296, 208.1096084264027],
    [184.193887737145, 197.3028077755683]
  ], 'rgb(250,251,242)');

  //Sun initliazation for tweening
  sun = new Shape([
    [294.1254883189038, 146.9466546758064], [291.9716604757808, 136.1775154601912], [289.8178326326578, 126.4852901661375],
    [285.5101769464117, 115.7161509505222], [280.125607338604, 104.947011734907], [274.7410377307964, 95.2547864408533],
    [267.2026402798658, 86.6394750683611], [259.6642428289351, 78.0241636958689], [251.048931456443, 71.5626801664997],
    [242.4336200839508, 66.1781105586921], [233.6183087114586, 59.4935409508845], [223.0491694958434, 55.4089713430769],
    [212.2800302802282, 52.1782295783923], [200.4339771430514, 51.1013156568308], [189.6648379274362, 52.1782295783923],
    [178.895698711821, 54.3320574215154], [168.1265594962058, 57.5627991861999], [158.4343342021521, 61.870454872446],
    [148.7421089080984, 68.3319384018152], [140.2044438694374, 74.7437507452638], [130.7455646388676, 83.6771366852465],
    [124.551187548932, 93.6045694168064], [118.9936456097648, 104.7196532951407], [115.8179073588122, 115.8347371734751],
    [113.2039494965682, 127.562204087699], [112.1270355750066, 138.3313433033142], [111.0501216534451, 149.1004825189295],
    [111.0501216534451, 159.8696217345447], [111.8971884810208, 170.5598366550177], [112.8964581077936, 180.5525329227459],
    [114.6951434359847, 190.545229190474], [117.6929523163031, 201.3373411596204], [122.8961747906219, 213.7153178126209],
    [129.357658319991, 222.3306291851131], [137.9729696924832, 229.8690266360438], [146.5882810649753, 237.4074240869745],
    [156.280506359029, 243.8689076163436], [164.8958177315212, 250.3303911457128], [(175.6649569471364, 253.5611329103973)],
    [186.4340961627516, 256.7918746750819], [197.2032353783668, 257.8687885966434], [209.0492885155436, 257.8687885966434],
    [219.8184277311588, 256.7918746750819], [230.587566946774, 254.6380468319589], [241.3567061623892, 250.3303911457128],
    [251.0489314564429, 243.8689076163436], [259.6642428289351, 237.4074240869745], [268.2795542014272, 229.8690266360438],
    [275.8179516523579, 221.2537152635516], [282.279435181727, 211.5614899694979], [286.5870908679731, 200.7923507538827],
    [289.8870908679739, 190.0232115382674], [292.3716604757808, 178.5002444795291], [294.4237552417026, 167.5982205662912],
    [294.3855212990979, 157.0838863499783]
  ], 'rgb(255, 222, 59)');

  //Rain particles initliazation
  rain = new Rain(100);
  rain.init();
  rain1 = new Rain(200);
  rain1.init();
  rain2 = new Rain(300);
  rain2.init();
  rain3 = new Rain(400);
  rain3.init();

  //Starting loop with 30 frames per second
  startLoop(30);

}
// Declaring variables.
let ctx = document.querySelector("canvas").getContext("2d");
let width = ctx.canvas.width;
let height = ctx.canvas.height;

let background1;
let background2;
let background3;

let landing;
let boyIdle;
let boyRun;
let boyWalk;
let boyJump;
let boyDead;

let moon;
let sun;

let cloud;

let obstacle1;
let obstacle2;
let obstacle3;
let obstacle4;

let rain;
let rain1;
let rain2;
let rain3

let sideSound = new Audio('./audio/countrySide.mp3');
let citySound = new Audio('./audio/music.mp3');
let rainSound = new Audio('./audio/rainSound.mp3');
let tensedSound = new Audio('./audio/tensedSound.mp3');

let psx;
let music1;

let interval = 80;

init();






